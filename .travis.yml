sudo: false
services:
  - docker
env:
  global: # This 2 things are my DOCKER_USERNAME and DOCKER_PASSWORD respectively - They are encrypted-- got it
    - secure: "jFmq7lsujzCkwtZk5eRRjSOOL5NvKvyNPnjGgdlsf/qd0sWQtaobMFHNlcT5ljBIWdLEdgiHtOBSGSv1hUom26cPrkA4pYLk8jqZ7R2G7snVFkdNzs5ob62U2gX9UcROyvbV2CxSGkXc2rxAMfgChxTPAHiewxRwOIsLZO4IfBFYdzu0ON0Ja0g8UVWjz45X4tZJjc0tpVWUzckE9BmRMe+lG9//IVYRDEiII281VN4mlAWmOT53IAQOltXPNpPEtBpdBCOMRMLg+NSwEdSj6cJ7xe05yRelcxZBcV11/J4eLdyDoeAQ5vSf6WPVSI13qeSOsqWh53CWxGFyIZxQwBibt2+vwGgEEYttxEwtSX5IwlapddVoqPK3PiMcE9K7GFIMW9vrenPOSu66TLs5ozKwMXuPS/1OvNIXIgCVQXU4yTovikBRytpq5jKGyGeMgy27lstHX0OmWF8VvLD0AchkNw0aLGCx/OBBGAtek8A1GbjVj4qBSMmji0Dvc3FxpDeSHdym6OlkWoi5hqjaiEIRrdJK0UIOxzUpq+FFsvfg15o8S44EWzd7WfnQOixamAblJ2X3im3TBP/gyFpL4NgC0TTtezt08zum5n4gorwTYF9hih3Uw8rtu5oThu7XgPZUytJ8D2SCvhmlizRsagZJGn+RnKYLw8UWNidgyHc="
    - secure: "MkZPTTrunsWZ6QRWOz83NBl+wGbC/tI9jchdlmtPtCSwg/YyOSSoG6+SSOcS0tmmRHEWqA1prstQYrK+V8OpPwnX5NqRzpoz/gKaAbrb88vMglW/MGQav/G3gPqYJFHXSuq8SsB7OqyJGWNrM6n8EOyvAyqXuEOL68RHsBa1iPogx+uUbQTx6Wu1WWsLETGEyLNd2fVC5/LUbueEvezf/uwChkp/3txiSfZ2ZNUGX2vi7T3HFWCGN7H+FByskKVXaWHivXXzPVXiIwWAQWuwnrpkAR9eAVLvGWdrmRklbobcPU1Dn3+rN4VbzoJGphUUF7AIVZwdljblL0KHVY4uIDzvqwFKPyc9Bxf+oosC8IPX+pXm+H+kGRflMBNSVVCu3px1p2h+92G2BK2ZmYB4gro9ZFyIoRHoLz+VEUMrrb9YKnTMAm2VdcAk2+VOXAerrqNz4bPq5dT6fhyidoMaUFeHvWK12z01uSCUVNngDXs7IquYx+B7fWtkvmlZug1uLzC4LWl2wJmm1AeYqyHQQ4EGr6g+2OCFpow9ki5nkv47Po/AKBYln/duSBwsCcMEH9/m1fFsa1QOUo+I/yHRvqWettxOJIgl8sJ1YRllp+GEGaBWSk//PrwvdPVt4Pl+RABeo/8SAKQYSChOwimMGqMnFsVTiOge4S0NzNfpGJ4="


- secure: "riLak209ybbUdrE8VpUgvXfMra8hpYDRlbbXysjHpJAXAe/hBso0o0d7QpWFWZ9lxlHKGYF8OKdXXHbB9dPKLyrAVjzczaVWnCuL5ndeCOHeY+4VDwsX+S6+9LzRJSqbdA52svc1vZM0Hma9UVvQQgx9Obfy+iRTeMurjoHp2OiembJPaG9LL42L7zvTE3DY00JSGfDiPhdjCq2QxlQ759v3NSbEhILUxwLTTZZQfaP3cNH/qDbxtiOz2C6ZE4tY20EYpKJ+EpjjOHlfYf92x7NIzUYrheaUywJerUe5ecGM2yYIpvQq8v76iU4iTpYevPpkGGovC8938uk1EmM9VfaZzBgoQXAAqXjEzPzePkNvhNw6FCgVkCRQsRmwICqOvl535LEQBj0GnUpUBXY2++/vttoQhQfMXpUJmrRpc0xzMoocxzi2e45qGEULgeh46AReYQGoHE2U1JiI5whI2wiiL7vTTSDmIHKiShEzx04NS3fnWoVfAN57xExiwGoK8UVWUKRkqwzYdD646JztYN12a/P93TshOEZ7107k4kwwor9GCN9jlMIg5GdurhTQUqKmsmR4ZvuaTDAlf8OqrL89GmsCBdIJjVK9nAJiYGkEl6RMi5a7KcgW/TN1kYQ1fwUqK8/0pdEp195Zr1M/nE1WglWZ2PggizLkL6XnlCY="
- secure: "pg2pa+90FdaxPto6SxfUwrAHcyltd5yFIMMsmf/jKGEiPU8qoJh5GBe5X5wV0Od+852wSPEF3E+vaBVbgARDN6p4HPFcYUACLPmtVjIwEsVlmb/ZX6PSNHcuTSuAGIbcCP7NlKYZRDik7jsjNbtc+Ohyv+HUXSYv9ASg6CeyC8WsVzbMsIRHo5BDYeUxWzJdzPUXsRSPlvyGEgNNq+NwkgzX7RpwYYdxB6Kl20XVMSEq9r1EqTPTZ4vf/b8sBkd/QobkoBCbCM89ah1gr0KnhOpJDiF8hGDFpHcahPet9OdipQuwH/Tql068eJ7TPHDPE6bStxj+6B8QWg+afrOJPtJfxLqqhnXojH0+qi+obLodjskRarUKrS+CCCOgZGAAeGiUTyUga8ma7Zmg9qmWBig2VaaFWe26UkuolUazJRaE+3TDM5VQrYd30peJZcrzh6hmflLLfjF3YusSouv6RojTGFq4i6Xy2vZr3RQM7dN1yT0ldrdjWJyJcldC/XU6ChyvoahH/rYtM+by8QOozkLkXD8NOSnCHTNOhL0yVMs/KFdm1hQ88XALmPupP+1lN1w7qesL+95ot3C9O/YwifioBUnXz0bdlRsHP49s/wLCP/G2zDGF3i6Sb4gEsoO3uRd2KY4bIn7eCoLQ4stMfq3pTfdjRRFdnic8bpn23Go="


script:
  - docker build --build-arg build_env=ci -t $DOCKER_USERNAME/social-data-analytics-service:$TRAVIS_COMMIT .
after_success:
  - test -n "$TRAVIS_TAG" && docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
  - test -n "$TRAVIS_TAG" && docker tag $DOCKER_USERNAME/sdas:$TRAVIS_COMMIT $DOCKER_USERNAME/social-data-analytics-service:$TRAVIS_TAG
  - test -n "$TRAVIS_TAG" && docker push $$DOCKER_USERNAME/social-data-analytics-service:$TRAVIS_TAG